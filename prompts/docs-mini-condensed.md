# Script Kit Prompt Index (Condensed)

Generated by scripts/condense-generation-assets.mjs. Each prompt keeps notes and omits verbose code samples.

## **arg**
> **Notes**:
- strict: false lets you submit any typed text if no matching suggestion is found.
- You can pass a function for dynamic or async suggestions.

## **div**
> **Notes**:
- Great for showing read-only content, images, or info messages.
- You can pass a PromptConfig object for more control (e.g., adding shortcuts).

## **editor**
> **Notes**:
- The built-in Monaco editor supports syntax highlighting for many languages.
- Use onInput, onBlur, or onSubmit to handle editor events.

## **form**
> **Notes**:
- Returns an object keyed by the name attribute of your form elements.
- Perfect for custom layouts or when fields is too restrictive.

## **fields**
> **Notes**:
- Returns an array of strings corresponding to the input values.
- Each field can be a string (for label) or an object for detailed configuration.

## **path**
> **Notes**:
- Lets users pick a file or folder from the filesystem.
- Options include startPath, onlyDirs, showHidden, etc.

## **select**
> **Notes**:
- Returns an **array** of selected items (values).
- Great for scenarios where multiple choices are needed, or for single selection from a rich list.

## **drop**
> **Notes**:
- Returns an array of file objects (each with path, name, etc.) if the user drops files.
- Returns a string if the user drags and drops text (e.g., from a browser).

## **env**
> **Notes**:
- Stores and retrieves variables from ~/.kenv/.env.
- Ideal for API keys, user preferences, and configurations.

## **term**
> **Notes**:
- Launches an embedded terminal window for interactive commands.
- Great for scripts that require user input in a CLI environment or running CLI tools.

## **template**
> **Notes**:
- $1, ${2:default}, etc., act like snippet placeholders you can tab between.
- Use for quick "fill-in-the-blanks" text generation.

## **chat**
> **Notes**:
- Creates a chat-like interface. chat.addMessage() adds messages.
- onSubmit is key for handling user input and responding. By default, submitting closes the chat.

## **micro**
> **Notes**:
- Similar to arg(), but uses a more compact UI.
- Good for quick, ephemeral prompts where screen real estate is a concern.

## **ai**
> **Notes**:
- Returns a function that, when called with input text, generates an AI completion.
- Configure default provider/model via .env (e.g., AI_DEFAULT_PROVIDER, AI_DEFAULT_MODEL).
- For structured JSON output, see generate.

## **generate**
> **Notes**:
- Uses Zod (z) for defining the output schema. Make sure to import { z } from 'zod' if not automatically available or if Script Kit doesn't make z global. (Assuming z is globally available as per kit.d.ts).
- Ideal for converting natural language to structured JSON objects.

## **assistant**
> **Notes**:
- Maintains conversation history. Use addUserMessage, addSystemMessage, etc.
- Stream responses with textStream or get the full interaction with generate().
- Supports tools for extending capabilities. autoExecuteTools: true can simplify tool usage.

## **hotkey**
> **Notes**:
- Captures a key combination (modifiers + one non-modifier key).
- Returns an object with details about the pressed keys and the formatted shortcut string.

## **grid**
> **Notes**:
- Similar to select, but displays choices in a grid layout.
- Useful for visual choices like images or a large number of compact options.
- Returns an array of selected values.

## **eyeDropper**
> **Notes**:
- Activates a system color picker/eyedropper tool.
- Returns an object with the color in various formats (hex, rgb, hsl, etc.).
- Behavior might vary slightly across operating systems.

## Display & Actions
> **setPanel(htmlString)**: Sets HTML content in the panel below the input.
- **setPanel(htmlString)**: Sets HTML content in the panel below the input.
- **setPreview(htmlString)**: Sets HTML content in the preview pane (usually to the right).
- **setHint(textString)**: Sets the hint text displayed below the input/choices.
- **setInput(textString)**: Programmatically sets the text in the input field.

## Windows & UI Control
> **hide() / blur() / focus()**: Control the main prompt's visibility and focus.
- **hide() / blur() / focus()**: Control the main prompt's visibility and focus.
- **show()**: Ensure the main prompt window is visible.
- **setBounds({ x, y, width, height })**: Set the main prompt window's position and size.
- **getActiveScreen()**: Get details about the currently active display (for positioning).

## Editor (`editor` prompt specific API)
> **editor.append("text")**: Appends text at the current cursor position or end.
- **editor.append("text")**: Appends text at the current cursor position or end.
- **editor.setText("new text")**: Replaces the entire content of the editor.
- **editor.getSelection()**: Returns { text: "selected", start: 0, end: 8 }.
- **editor.moveCursor(offset)**: Moves the cursor to a specific character offset.

## Shortcuts & Global Input
> **IMPORTANT**: Always always use await getSelectedText() and await setSelectedText("text") for text manipulation.
- **registerShortcut("cmd+opt+p", callback)**: Registers a global hotkey that runs callback.
- **unregisterShortcut("cmd+opt+p")**: Removes a previously registered global hotkey.
- **keyboard.type("Hello!")**, keyboard.tap(Key.Enter): Simulate keyboard input. Only use when you need to simulate keyboard input. Otherwise, use getSelectedText() and setSelectedText("text") for text manipulation.
- **mouse.leftClick()**, mouse.setPosition({ x:100, y:100 }): Control the mouse.

## DB & Files
> 1. **db(nameOrData, defaultData?)**: Simple JSON file store in ~/.kenv/db/. 2. **readFile(path)**, **writeFile(path, content)**, **readdir(path)**, **remove(path)**, **move(src, dest)**, **copyFile(src, dest)**, **pathExists(path)**: Standard file system operations (mostly from fs-extra/fs/promises).

## Exec & Shell
> 1. **exec("command with args", options?)**: Execute a shell command (uses execa). 2. **$(strings, ...values)** (zx-like template literal): 3. **cd(directory)**, **pwd()**, **which(command)**: Shell navigation and utility commands (from shelljs).

## Network
> **get(url, config?)**, **post(url, data?, config?)**, **put(url, data?, config?)**, **patch(url, data?, config?)**, **del(url, config?)**: Axios-based HTTP request functions.
- **get(url, config?)**, **post(url, data?, config?)**, **put(url, data?, config?)**, **patch(url, data?, config?)**, **del(url, config?)**: Axios-based HTTP request functions.

## System & OS Interaction
> **say("text to speak")**: Text-to-speech.
- **say("text to speak")**: Text-to-speech.
- **beep()**: Plays the system beep sound.
- **getSelectedText()**: Copies selected text from the foreground application.
- **setSelectedText("text to paste")**: Pastes text into the foreground application.

## Audio/Video
> **mic(config?)**: Record audio from microphone, returns Buffer. mic.start(config?) / mic.stop() for streaming.
- **mic(config?)**: Record audio from microphone, returns Buffer. mic.start(config?) / mic.stop() for streaming.
- **webcam(config?)**: Capture an image from webcam, returns Buffer.
- **playAudioFile(filePath)**: Plays an audio file.

## Utility
> **inspect(object)**: Opens a new editor window with a JSON representation of the object.
- **inspect(object)**: Opens a new editor window with a JSON representation of the object.
- **dev(object)**: Opens Chrome DevTools with the object assigned to x in the console.
- **uuid()**: Generates a random UUID string.
- **createChoiceSearch(choices, config)**: Utility for creating efficient client-side search functions for choices.

## Common Aliases & Libraries
> **path.join(...)**, path.basename(...), etc.: Standard Node.js path module functions are available on the global path object.
- **path.join(...)**, path.basename(...), etc.: Standard Node.js path module functions are available on the global path object.
- **chalk**: For colorizing terminal output (e.g., console.log(chalk.blue("Hello"))).
- **replace(config)**: Replaces text in files (from replace-in-file).

## Script Flow Control
> **submit(valueToReturn)**: Closes the current prompt and returns valueToReturn from the prompt function.
- **submit(valueToReturn)**: Closes the current prompt and returns valueToReturn from the prompt function.
- **exit(exitCode?)**: Terminates the script immediately.
- **wait(milliseconds)**: Pauses script execution for a specified duration.

## Cron / System Events (Metadata)
> Use // Schedule: cronExpression (e.g., // Schedule: 0 * * * * for hourly) for scheduled scripts.
- Use // Schedule: cronExpression (e.g., // Schedule: 0 * * * * for hourly) for scheduled scripts.
- Use // System: eventName (e.g., // System: wake) to trigger scripts on system events.
